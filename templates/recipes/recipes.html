{% extends 'base.html'%}
{% block content %}

<div class="container center-align">

    <div class="row">
        <h2 class="align-center"> All Recipes</h2>
        <br>
    </div>
    <div class="row">
        <form action="{{ url_for('search')}}" method="post">
            <div class="wrap">
                <div class="row">
                    <div class="col s12 m8">
                        <input type="text" name="query" id="query" minlength="3" placeholder="What are you looking for?" class="validate" required>
                        <label for="query"></label>
                    </div>
                    <div class="col s12 m4">
                            <a href="{{ url_for('get_recipes') }}" class="black btn-small text-shadow">Reset</a>
                            <button type="submit" class="black btn-small text-shadow">
                                <i class="fas fa-search left"></i> Search
                            </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="row">
        <div class="row col s6">
          <!-- Dropdown Trigger -->
        <a class='dropdown-trigger btn-large red accent-4' href='#' data-target='dropdown1'>Categories</a>
        <!-- Dropdown Structure -->
            <ul id='dropdown1' class='dropdown-content'>
                <li><a href="{{ url_for('category_filter', id='Starter') }}">Starters</a></li>
                <li><a href="{{ url_for('category_filter', id='Main') }}">Mains</a></li>
                <li class="divider" tabindex="-1"></li>
                <li><a href="{{ url_for('category_filter', id='Sauces & Dips') }}">Sauces & Dips</a></li>
                <li><a href="{{ url_for('category_filter', id='Salad') }}">Salads</a></li>
                <li><a href="{{ url_for('category_filter', id='Soup') }}">Soups</a></li>
            </ul>
        </div>
        <div class="row col s6">
        <!-- Dropdown Trigger -->
        <a class='dropdown-trigger btn-large red accent-4' href='#' data-target='dropdown2'>Spice Level</a>
        <!-- Dropdown Structure -->
            <ul id='dropdown2' class='dropdown-content'>
                <li><a href="{{ url_for('spice_filter', id='Spicy') }}">Spicy</a></li>
                <li><a href="{{ url_for('spice_filter', id='Hot') }}">Hot</a></li>
                <li class="divider" tabindex="-1"></li>
                <li><a href="{{ url_for('spice_filter', id='Hot Hot') }}">Hot Hot</a></li>
                <li><a href="{{ url_for('spice_filter', id='Fiery Spicy') }}">Fiery Spicy</a></li>
                <li><a href="{{ url_for('spice_filter', id='SCARY HOT') }}">SCARY Hot</a></li>
            </ul>
        </div>
    </div>

    <div class="row">
        {% for recipe in recipes %}
        <div class="col s12 m4">
            <a href="{{ url_for('recipe', recipe_id=recipe._id) }}">
                <div class="card medium">
                    <div class="card-image">
                        <img class="img_recipe" src="{{ recipe.img_url }}" alt="recipe">
                        <span class="card-title recipes-title">{{ recipe.recipe_name }}</span>
                    </div>
                    <div class="card-content">
                        <p>{{ recipe.recipe_method }}</p>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>

</div>

{% endblock %}